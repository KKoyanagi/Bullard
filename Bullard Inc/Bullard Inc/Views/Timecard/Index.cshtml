@model Bullard_Inc.Models.TimecardIndexView
@{ 
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/FieldWorkerFrame.cshtml";

    string status = (string)ViewData["status"];
    string date = (string)ViewData["weekDate"];
    string name = (string)ViewData["name"];
}
<script>
function confirmSubmit() {
    confirm("Are you sure you want to Submit? Once submitted you will no longer be able to edit this time card.");
}
</script>

<h2 align="center"><b>@name's Timecard Portal</b></h2>

<div class="container">
    <div class="row">
        <div class="col"></div>
        <div class="col">
            <nav>
                <ul class="pagination pagination-lg pg-bluegrey">
                    @*<li class="page-item">
                        <a class="page-link" href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                            <span class="sr-only">Previous</span>
                        </a>
                    </li>*@
                    <li class="page-item active">
                        <a class="page-link" href="#">
                            @date
                        </a>
                    </li>
                    @*<li class="page-item">
                        <a class="page-link" href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                            <span class="sr-only">Next</span>
                        </a>
                    </li>*@
                </ul>
            </nav>
        </div>
        <div class="col"></div>
    </div>
</div>

<div class="md-form">

    <select id="Week_Id" name="Week_Id">
        @foreach (var week in Model.Weeks)
            {
            <option value=@week.Week_Id> @week.StartDate.ToShortDateString() - @week.EndDate.ToShortDateString() </option>
        }
    </select>
    <a href="#" class="btn btn-default" onclick="changeWeek();">Change Week</a>
</div>
              
<div class="row">
    <div class="col-lg-12">
        <p>Status: <span style="color: red"><b>@status</b></span></p>
    </div>
</div>
<!-- need to pass timesheet id and day id-->

<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/1" class="btn btn-default btn-lg btn-block">SUNDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/2" class="btn btn-default btn-lg btn-block">MONDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/3" class="btn btn-default btn-lg btn-block">TUESDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/4" class="btn btn-default btn-lg btn-block">WEDNESDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/5" class="btn btn-default btn-lg btn-block">THURSDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/6" class="btn btn-default btn-lg btn-block">FRIDAY</a>
<a href="/timecard/empjobview/@Model.Timesheet.Timesheet_Id/7" class="btn btn-default btn-lg btn-block">SATURDAY</a>
<br />

<div align="right">
    <a class="btn btn-default" onclick="confirmSubmit()" href="javascript:submit(@Model.Timesheet.Timesheet_Id)">Submit</a>
</div>


<script type="text/javascript">
    function submit(id) {
        var action = '@Url.Action("Submit", "Timecard", new { id = "-1"})';
        action = action.replace("-1", id);
        window.location.href = action;
        alert("Submitted")
    }
    function changeWeek() {
        var week = document.getElementById('Week_Id').value;
        var action = '@Url.Action("ChangeWeek", "Timecard", new { week = "-1" })'
        action = action.replace("-1", week);
        window.location.href = action;
    }
</script>
